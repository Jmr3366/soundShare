<!DOCTYPE html>
<html>
<head>
<title>soundShare</title>
<style type="text/css">
body { font-family: Verdana, Arial, Helvetica, sans-serif; position: relative; color: #222222; font-size: 1.0em; }
<script type="text/javascript" src="jsonpath.js"></script>
<script type="text/javascript" src="json2.js"></script>
</style>
</head>
<body>
<div id="response" style="border: 1px solid blue; min-height:50px; min-width:50px;">placeholder</div>
<h3>Shared Sound Links</h3>
<div id="content"></div>
<a href="audio/foley/"><h4>Foley</h4></a>
<a href="audio/loops"><h4>Loops</h4></a>
<a href="audio/music"><h4>Music</h4></a>
<a href="audio/UI"><h4>User Interface</h4></a>

<script>
  //import listing from '/treeList.json'  assert { type: 'json' };

function fetchJSONData() {
  fetch("./treeList.json")
      .then((res) => {
          if (!res.ok) {
              throw new Error
                  (`HTTP error! Status: ${res.status}`);
          }
          return res.json();
      })
      .then((data) =>
            console.log(data))
      .catch((error) =>
             console.error("Unable to fetch data:", error));
}
var dirListing = fetchJSONData();

window.addEventListener("load", function(){
    buildFileMap(dirListing);
});
function buildFileMap(json){
  let txt = JSONPath(json, "$.name[*]").toJSONString();
  document.getElementById("response").innerText = txt;

}
</script>
</body>
</html>
